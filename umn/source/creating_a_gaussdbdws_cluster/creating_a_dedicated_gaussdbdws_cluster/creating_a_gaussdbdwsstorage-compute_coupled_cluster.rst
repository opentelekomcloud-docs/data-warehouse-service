:original_name: dws_01_0019.html

.. _dws_01_0019:

Creating a GaussDB(DWS) Storage-Compute Coupled Cluster
=======================================================

To use cloud GaussDB(DWS), create a data warehouse cluster first.

This section describes how to create a data warehouse cluster on the GaussDB(DWS) console.

Preparations Before Creating a Cluster
--------------------------------------

-  You have evaluated the flavor of cluster nodes.

   You can select the number of nodes by data volume, service load, and performance. More nodes bring you stronger storage and compute capabilities.

   When first using GaussDB(DWS), you can create a cluster with a smaller flavor. Then, you can adjust the cluster scale and node flavor based on the data volume and service load changes without interrupting services. For details, see :ref:`Scaling Out a Cluster <dws_01_0023>`.

-  Determine the number of nodes that can be used by users.

   The number of nodes that can be used by users must meet the following requirements. Otherwise, the system displays a message indicating that the cluster cannot be created.

   The number of available nodes depends on the product type you choose. A storage-compute coupled data warehouse (standalone) has only one node. For other types of clusters, the number of nodes can be greater than or equal to 3.

Creating a Cluster
------------------

#. Log in to the GaussDB(DWS) console.

#. Choose **Dedicated Clusters** > **Clusters** in the navigation pane.

#. On the **Cluster** page, click **Create GaussDB(DWS) Cluster**.

#. Choose **Region** and select the actual working region of the cluster node.

#. Select an AZ. You can select **Single AZ** or **Multi-AZ** as required.

   For more information, see :ref:`How Do I Select a GaussDB(DWS) Region and AZ? <dws_03_0052>`.

   .. note::

      -  Multi-AZ clusters are supported only by clusters of version 8.2.0.100 or later.
      -  The **Multi-AZ** option is displayed only if the number of AZs in the selected region is greater than or equal to 3. If this condition is not met, only a single-AZ cluster can be created.
      -  For a multi-AZ cluster, only three AZs can be selected at a time so far. Server nodes are evenly distributed among the three AZs.
      -  The numbers of nodes in a multi-AZ cluster must be a multiple of 3.
      -  A multi-AZ cluster only allows for up to 2 DNs on a single node.

#. Set data warehouse parameters. For details, see :ref:`Table 1 <en-us_topic_0000002203426685__table11569171131419>`.

   .. _en-us_topic_0000002203426685__table11569171131419:

   .. table:: **Table 1** Node configuration parameters

      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Parameter             | Description                                                                                                                                                                                                                                                                                                                                                                                                                     | Example Value         |
      +=======================+=================================================================================================================================================================================================================================================================================================================================================================================================================================+=======================+
      | Resource              | Product type. It can be:                                                                                                                                                                                                                                                                                                                                                                                                        | ``-``                 |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                 |                       |
      |                       | -  **Coupled storage and compute**: The storage-compute coupled data warehouse provides enterprise-level data warehouse services with high performance, high scalability, high reliability, high security, low latency, and easy O&M. It is capable of data analysis at a scale of 2,048 nodes and 20 petabytes of data and is suitable for converged analysis services that integrate databases, warehouses, marts, and lakes. |                       |
      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Node Flavor           | Select the desired node flavor based on service requirements. Each node flavor displays the vCPU, memory, and recommended application scenario.                                                                                                                                                                                                                                                                                 | dws.m3.xlarge         |
      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Nodes                 | Specify the number of nodes in the cluster.                                                                                                                                                                                                                                                                                                                                                                                     | 3                     |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                 |                       |
      |                       | The number of nodes ranges from 3 to 256.                                                                                                                                                                                                                                                                                                                                                                                       |                       |
      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Total                 | Displays the total capacity of a cluster.                                                                                                                                                                                                                                                                                                                                                                                       | ``-``                 |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                 |                       |
      |                       | The storage capacity of each flavor is the actual database space used for storing data. The displayed storage capacity has deducted the disk space consumed by backups and RAIDs.                                                                                                                                                                                                                                               |                       |
      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

#. Click **Next: Configure Network**.

#. Configure the network.

   .. table:: **Table 2** Network parameters

      +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Parameter             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                            | Example Value         |
      +=======================+========================================================================================================================================================================================================================================================================================================================================================================================================================================================+=======================+
      | VPC                   | Specify a virtual private network for nodes in a cluster to isolate networks of different services.                                                                                                                                                                                                                                                                                                                                                    | vpc-dws               |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | If you create a data warehouse cluster for the first time and have not configured the VPC, click **View VPC**. On the VPC management console that is displayed, create a VPC that satisfies your needs.                                                                                                                                                                                                                                                |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | For details about how to create a VPC, see "VPC and Subnet > Creating a VPC" in the *Virtual Private Cloud User Guide*.                                                                                                                                                                                                                                                                                                                                |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | After selecting a VPC from the drop-down list, click **View VPC** to enter the VPC management console and view the detailed information about the VPC.                                                                                                                                                                                                                                                                                                 |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | You can click |image1| to refresh the options in the **VPC** drop-down list.                                                                                                                                                                                                                                                                                                                                                                           |                       |
      +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Subnet                | Specify a VPC subnet.                                                                                                                                                                                                                                                                                                                                                                                                                                  | subnet-dws            |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | A subnet provides dedicated network resources that are isolated from other networks, improving network security.                                                                                                                                                                                                                                                                                                                                       |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                              |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    After a cluster is created, the subnet cannot be modified. If you need to modify the subnet, you can restore the snapshot of the cluster to a new cluster. The data of the new cluster is the same as that of the old cluster, and the subnet can be modified when the new cluster is created.                                                                                                                                                      |                       |
      +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Security Group        | Specify a VPC security group.                                                                                                                                                                                                                                                                                                                                                                                                                          | Automatic creation    |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | A security group restricts access rules to enhance security when GaussDB(DWS) and other services access each other.                                                                                                                                                                                                                                                                                                                                    |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | -  Automatic creation                                                                                                                                                                                                                                                                                                                                                                                                                                  |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    If **Automatic creation** is selected, the system automatically creates a default security group. This option is selected by default.                                                                                                                                                                                                                                                                                                               |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    The rule of the default security group is as follows: The outbound allows all access requests, while the inbound is open only to the database port that you set to connect to the GaussDB(DWS) cluster.                                                                                                                                                                                                                                             |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    The format of the default security group name is dws-<*Cluster_name*>-<*Cluster_database_port*>, for example, **dws-dws-demo-8000**.                                                                                                                                                                                                                                                                                                                |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                           |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |       If the quotas of the security group and the security group rule are insufficient, an error message will be displayed after you submit the cluster creation application. Select an existing group and retry.                                                                                                                                                                                                                                      |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | -  Manual creation                                                                                                                                                                                                                                                                                                                                                                                                                                     |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    You can also log in to the VPC management console to manually create a security group. Then, go back to the page for creating data warehouse clusters, click |image2| next to the **Security Group** drop-down list to refresh the page, and select the new security group.                                                                                                                                                                         |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    To enable the GaussDB(DWS) client to connect to the cluster, you need to add an inbound rule to the new security group to grant the access permission to the database port of the GaussDB(DWS) cluster. The following is an example of an inbound rule..                                                                                                                                                                                            |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    -  **Protocol**: **TCP**                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
      |                       |    -  **Port**: **8000**. Use the database port set when creating the GaussDB(DWS) cluster. This port is used for receiving client connections to GaussDB(DWS).                                                                                                                                                                                                                                                                                        |                       |
      |                       |    -  **Source**: Select **IP address** and use the host IP address of the client host, for example, **192.168.0.10/32**.                                                                                                                                                                                                                                                                                                                              |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    After a GaussDB(DWS) cluster is created, you can change the security group. You can also add, delete, or modify security group rules in the current security group. For details, see :ref:`"Modifying a Security Group" <dws_03_0053>`. Changing the security group of a cluster may cause brief service disruption. Exercise caution when performing this operation. For better network performance, do not select more than five security groups. |                       |
      +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | EIP                   | Specify whether users can use a client to connect to a cluster's database over the Internet. The following methods are supported:                                                                                                                                                                                                                                                                                                                      | Automatically assign  |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | -  **Do not use**: The EIP is not required.                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
      |                       | -  **Automatically assign**: Specify the EIP bandwidth, and an EIP with dedicated bandwidth will be bound to the cluster. The EIP can be used to access the cluster over the Internet. The bandwidth name of an automatically assigned EIP starts with the cluster name.                                                                                                                                                                               |                       |
      |                       | -  **Specify**: A specified EIP is bound to the cluster. If no available EIPs are displayed in the drop-down list, click **View EIP** to go to the EIP page and create one that meets your needs. You can set the IP address type and bandwidth as required.                                                                                                                                                                                           |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                              |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    -  If you use the EIP binding function for the first time in each project of each region, the system prompts you to create the **DWSAccessVPC** agency to authorize GaussDB(DWS) to access VPC. After the authorization is successful, GaussDB(DWS) can switch to a healthy VM when the VM bound with the EIP becomes faulty.                                                                                                                       |                       |
      |                       |    -  By default, only cloud accounts or users with Security Administrator permissions can query and create agencies. By default, the IAM users in those accounts cannot query or create agencies. When the users use the EIP, the system makes the binding function unavailable. Contact a user with the **DWS Administrator** permissions to authorize the agency on the current page.                                                               |                       |
      |                       |    -  **Do not use** indicates disabling access to the cluster over the public network. After a cluster is created, if you want to access it over the public network, bind an EIP to the cluster and create a public network domain name. For details, see :ref:`Creating a Public Network Domain Name <en-us_topic_0000002167905856__section14447182917335>`.                                                                                         |                       |
      +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Bandwidth             | When **EIP** is set to **Automatically assign**, you need to specify the bandwidth of the EIP. The value ranges from 1 Mbit/s to 100 Mbit/s.                                                                                                                                                                                                                                                                                                           | 50 Mbit/s             |
      +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | ELB                   | Specifies whether ELB is bound. With ELB health checks, CN requests of a cluster can be quickly forwarded to normal CNs. If a CN is faulty, the workload can be immediately shifted to a healthy node, minimizing cluster access faults.                                                                                                                                                                                                               | Specify               |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | -  **Do not use**: The load balancer is not used.                                                                                                                                                                                                                                                                                                                                                                                                      |                       |
      |                       | -  **Specify**: Specify an ELB to be bound to the cluster. If no available ELBs are displayed in the drop-down list, click **Create ELB** to go to the ELB page and create one as needed.                                                                                                                                                                                                                                                              |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       | .. warning::                                                                                                                                                                                                                                                                                                                                                                                                                                           |                       |
      |                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                       |
      |                       |    Configure load balancing to ensure load balancing and high availability of the cluster and prevent service interruptions. You are not advised to directly connect services to a single CN.                                                                                                                                                                                                                                                          |                       |
      +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

#. Click **Next: Configure Advanced Settings**.

#. Configure cluster parameters.

   .. table:: **Table 3** Cluster parameters

      +------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Parameter              | Description                                                                                                                                                                                                         | Example Value         |
      +========================+=====================================================================================================================================================================================================================+=======================+
      | Cluster Name           | Set the name of the data warehouse cluster.                                                                                                                                                                         | DWS-demo              |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        | Enter 4 to 64 characters. Only letters (case-insensitive), digits, hyphens (-), and underscores (_) are allowed. The name must start with a letter.                                                                 |                       |
      +------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Cluster Version        | Displays the version of the database instance installed in the cluster. The example version number is for reference only.                                                                                           | *-*                   |
      +------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Default Database       | The default database name of the cluster is **gaussdb**.                                                                                                                                                            | gaussdb               |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        | .. note::                                                                                                                                                                                                           |                       |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        |    This name cannot be changed.                                                                                                                                                                                     |                       |
      +------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Administrator Account  | Set the database administrator name.                                                                                                                                                                                | dbadmin               |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        | The administrator username must:                                                                                                                                                                                    |                       |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        | -  Consist of lowercase letters, digits, or underscores.                                                                                                                                                            |                       |
      |                        | -  Start with a lowercase letter or an underscore.                                                                                                                                                                  |                       |
      |                        | -  Contain 6 to 64 characters.                                                                                                                                                                                      |                       |
      |                        | -  The username cannot be a keyword of the GaussDB(DWS) database. For details about the keywords of the GaussDB(DWS) database, see "SQL Reference > Keyword" in the *Data Warehouse Service (DWS) Developer Guide*. |                       |
      +------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Administrator Password | Set the password of the database administrator account.                                                                                                                                                             | ``-``                 |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        | The password complexity requirements are as follows:                                                                                                                                                                |                       |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        | -  Consists of 12 to 32 characters.                                                                                                                                                                                 |                       |
      |                        | -  Cannot be the username or the username spelled backwards.                                                                                                                                                        |                       |
      |                        | -  Must contain at least three of the following character types: uppercase letters, lowercase letters, digits, and special characters (``~!?,.:;_(){}[]/<>@#%^&*+|\=-``)                                            |                       |
      |                        | -  Passes the weak password check.                                                                                                                                                                                  |                       |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        | .. note::                                                                                                                                                                                                           |                       |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        |    Change the password regularly and keep it secure.                                                                                                                                                                |                       |
      +------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Confirm Password       | Enter the database administrator password again.                                                                                                                                                                    | ``-``                 |
      +------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Database Port          | Specify the port used when the client or application connects to the database in the cluster.                                                                                                                       | 8000                  |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        | The port number ranges from 8000 to 30000.                                                                                                                                                                          |                       |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        | .. note::                                                                                                                                                                                                           |                       |
      |                        |                                                                                                                                                                                                                     |                       |
      |                        |    The database port of a created cluster cannot be changed. You can specify the database port only when creating a cluster.                                                                                        |                       |
      +------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Time Zone              | You can set the time zone for the tenant cluster, including the system OS time zone and cluster data warehouse time zone.                                                                                           | ``-``                 |
      +------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

#. Configure the enterprise project to which the cluster belongs. You can configure this parameter only when the Enterprise Project Management service is enabled. The default value is **default**.

   An enterprise project facilitates project-level management and grouping of cloud resources and users.

   You can select the default enterprise project **default** or other existing enterprise projects. To create an enterprise project, log in to the Enterprise Management console. For details, see the *Enterprise Management User Guide*.

#. Configure advanced settings. Select **Default** to keep the default values of the advanced parameters. You can also select **Custom** to modify the values.

   -  **Backup Device**

      Set the backup device used by the current cluster. For details about the parameter configuration principles, see :ref:`Table 4 <en-us_topic_0000002203426685__en-us_topic_0000001360169333_en-us_topic_0000001231278872_table11860173413712>`.

      .. _en-us_topic_0000002203426685__en-us_topic_0000001360169333_en-us_topic_0000001231278872_table11860173413712:

      .. table:: **Table 4** Automated snapshot parameters

         +------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
         | Parameter                                      | Description                                                                                                                                                                                                       |
         +================================================+===================================================================================================================================================================================================================+
         | Backup Device                                  | Select **OBS** or **NFS** from the drop-down list.                                                                                                                                                                |
         +------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
         | NFS backup file system address (NFS parameter) | NFS shared IP address. Enter the IP address of the SFS shared path. After the mounting is successful, a mount directory is created in the **/var/chroot/nfsbackup** directory of the cluster instance by default. |
         +------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   -  **CNs**

      CNs, or Coordinators, receive access requests from the clients and return the execution results. They also split and distribute tasks to the Datanodes (DNs) for parallel execution.

      The value ranges from 3 to the number of cluster nodes. The maximum value is **20** and the default value is **3**. In a large-scale cluster, you are advised to deploy multiple CNs.

   -  **Tag**

      A tag is a key-value pair used to identify a cluster. For details about the keys and values, see :ref:`Table 5 <en-us_topic_0000002203426685__table327331910318>`. By default, no tag is added to the cluster.

      For more information about tags, see :ref:`Overview <dws_01_0104>`.

      .. _en-us_topic_0000002203426685__table327331910318:

      .. table:: **Table 5** Tag parameters

         +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
         | Parameter             | Description                                                                                                                                                                                                                                                                                                                                                                         | Example Value         |
         +=======================+=====================================================================================================================================================================================================================================================================================================================================================================================+=======================+
         | Key                   | The options are as follows:                                                                                                                                                                                                                                                                                                                                                         | key01                 |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       | -  Select a predefined tag key or an existing resource tag key from the drop-down list of the text box.                                                                                                                                                                                                                                                                             |                       |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       |    .. note::                                                                                                                                                                                                                                                                                                                                                                        |                       |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       |       To add a predefined tag, you need to create one on TMS and select it from the drop-down list of **Tag key**. You can click **View predefined tags** to enter the **Predefined Tags** page of TMS. Then, click **Create Tag** to create a predefined tag. For more information, see "Predefined Tags" > "Creating Predefined Tags" in the *Tag Management Service User Guide*. |                       |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       | -  Enter a tag key in the text box. A tag key can contain a maximum of 128 characters. It cannot be an empty string or start or end with a space.                                                                                                                                                                                                                                   |                       |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       |    The value cannot contain the following characters: \*<>\\,|/                                                                                                                                                                                                                                                                                                                     |                       |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       |    .. note::                                                                                                                                                                                                                                                                                                                                                                        |                       |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       |       A key must be unique in a given cluster.                                                                                                                                                                                                                                                                                                                                      |                       |
         +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
         | Value                 | You can select:                                                                                                                                                                                                                                                                                                                                                                     | value01               |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       | -  Select a predefined tag value or resource tag value from the drop-down list of the text box.                                                                                                                                                                                                                                                                                     |                       |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       | -  Enter a tag value in the text box. A tag value can contain a maximum of 255 characters, which can be an empty string. It cannot start or end with a space.                                                                                                                                                                                                                       |                       |
         |                       |                                                                                                                                                                                                                                                                                                                                                                                     |                       |
         |                       |    The value cannot contain the following characters: \*<>\\,|/                                                                                                                                                                                                                                                                                                                     |                       |
         +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

#. Click **Next: Confirm**.

#. Click **Create Now**

   After the submission is successful, the creation starts. Click **Back to Cluster List**. The cluster management page is displayed. The initial status of the cluster is **Creating**. Cluster creation takes some time. Wait for a while. Clusters in the **Available** state are ready for use.

Handling the Cluster Creation Failure
-------------------------------------

If a cluster fails to be created, go to the GaussDB(DWS) console and choose **Dedicated Clusters** > **Clusters** to view the cluster status and the cause of failure.

**Viewing the cause of creation failure**

#. Log in to the GaussDB(DWS) console. In the navigation pane, choose **Dedicated Clusters** > **Clusters**.

#. In the cluster list, locate the cluster whose **Cluster Status** is **Creation failed**.

#. Click |image3| in the **Cluster Status** column to view the cause of the cluster creation failure.

   If the fault persists, contact technical support.

**Deleting a cluster that fails to be created**

You can delete a cluster that fails to be created if you do not need it. Before deletion, check the cause of creation failure.

#. Log in to the GaussDB(DWS) console. In the navigation pane, choose **Dedicated Clusters** > **Clusters**.

#. In the cluster list, locate the row containing the failed cluster to be deleted, and choose **More** > **Delete**.

#. In the displayed dialog box, confirm the deletion. You can determine whether to perform the following operations:

   -  Create a snapshot for the cluster.

      If the cluster status is normal, click **Create Snapshot**. On the snapshot list page, click **Create Snapshot** to create a snapshot for the cluster to be deleted. For details, see :ref:`Manual Snapshots <dws_01_0092>`. In the row of a cluster, choose **More** > **Delete**.

   -  Delete associated resources.

      -  Release the EIP bound to the cluster.

         If an EIP is bound to the cluster, you are advised to select **EIP** to release the EIP.

      -  Delete automated snapshots.

      -  Delete manual snapshots.

         If you have created a manual snapshot, you can select **Manual Snapshot** to delete it.

#. After confirming that the information is correct, enter **DELETE** or click **Auto Enter** and click **OK** to delete the cluster. The cluster status in the cluster list will change to **Deleting** and the cluster deletion progress will be displayed.

   If the cluster to be deleted uses an automatically created security group that is not used by other clusters, the security group is automatically deleted when the cluster is deleted.

.. |image1| image:: /_static/images/en-us_image_0000002168066128.png
.. |image2| image:: /_static/images/en-us_image_0000002203312653.png
.. |image3| image:: /_static/images/en-us_image_0000002168066124.png
