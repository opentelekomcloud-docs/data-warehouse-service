:original_name: dws_04_0790.html

.. _dws_04_0790:

PG_TOTAL_USER_RESOURCE_INFO
===========================

**PG_TOTAL_USER_RESOURCE_INFO** displays the resource usage of all users. Only administrators can query this view. This view is valid only if **use_workload_manager** is set to **on**.

.. table:: **Table 1** **PG_TOTAL_USER_RESOURCE_INFO** columns

   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Name                  | Type                  | Description                                                                                                                                                                                                                  |
   +=======================+=======================+==============================================================================================================================================================================================================================+
   | username              | name                  | Username                                                                                                                                                                                                                     |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_memory           | integer               | Memory size used by a user, in MB.                                                                                                                                                                                           |
   |                       |                       |                                                                                                                                                                                                                              |
   |                       |                       | -  DN: The memory used by users on the current DN is displayed.                                                                                                                                                              |
   |                       |                       | -  CN: The total memory usage of users on all DNs is displayed.                                                                                                                                                              |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_memory          | integer               | Memory used by the resource pool, in MB. **0** indicates that the available memory is not limited and depends on the maximum memory available in the database (**max_dynamic_memory**). A calculation formula is as follows: |
   |                       |                       |                                                                                                                                                                                                                              |
   |                       |                       | total_memory = max_dynamic_memory \* parent_percent \* user_percent                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                                                              |
   |                       |                       | CN: The sum of maximum available memory on all DNs is displayed.                                                                                                                                                             |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_cpu              | double precision      | Number of CPU cores in use. Only the CPU usage of complex jobs in the non-default resource pool is collected, and the value is the CPU usage of the related cgroup.                                                          |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_cpu             | integer               | Total number of CPU cores of the Cgroup associated with a user on the node                                                                                                                                                   |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_space            | bigint                | Used permanent table storage space (unit: KB)                                                                                                                                                                                |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_space           | bigint                | Available storage space (unit: KB). **-1** indicates that the storage space is not limited.                                                                                                                                  |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_temp_space       | bigint                | Used temporary table storage space (unit: KB)                                                                                                                                                                                |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_temp_space      | bigint                | Available temporary table storage space (unit: KB). **-1** indicates that the storage space is not limited.                                                                                                                  |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_spill_space      | bigint                | Size of the used operator flushing space, in KB                                                                                                                                                                              |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_spill_space     | bigint                | Size of the available operator flushing space, in KB. The value **-1** indicates that the operator flushing space is not limited.                                                                                            |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | read_kbytes           | bigint                | CN: total number of bytes read by a user's complex jobs on all DNs in the last 5 seconds. The unit is KB.                                                                                                                    |
   |                       |                       |                                                                                                                                                                                                                              |
   |                       |                       | DN: total number of bytes read by a user's complex jobs from the instance startup time to the current time. The unit is KB.                                                                                                  |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | write_kbytes          | bigint                | CN: total number of bytes written by a user's complex jobs on all DNs in the last 5 seconds. The unit is KB.                                                                                                                 |
   |                       |                       |                                                                                                                                                                                                                              |
   |                       |                       | DN: total number of bytes written by a user's complex jobs from the instance startup time to the current time. The unit is KB.                                                                                               |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | read_counts           | bigint                | CN: total number of read times of a user's complex jobs on all DNs in the last 5 seconds. Unit: count.                                                                                                                       |
   |                       |                       |                                                                                                                                                                                                                              |
   |                       |                       | DN: total number of read times of a user's complex jobs from the instance startup time to the current time. Unit: count.                                                                                                     |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | write_counts          | bigint                | CN: total number of write times of a user's complex jobs on all DNs in the last 5 seconds. Unit: count.                                                                                                                      |
   |                       |                       |                                                                                                                                                                                                                              |
   |                       |                       | DN: total number of write times of a user's complex jobs from the instance startup time to the current time. Unit: count.                                                                                                    |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | read_speed            | double precision      | CN: average read rate of a user's complex jobs on a single DN in the last 5 seconds. (Unit: KB/s)                                                                                                                            |
   |                       |                       |                                                                                                                                                                                                                              |
   |                       |                       | DN: indicates the average read rate of a user's complex jobs on a single DN in the last 5 seconds. (Unit: KB/s)                                                                                                              |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | write_speed           | double precision      | CN: average write rate of a user's complex jobs on a single DN in the last 5 seconds. (Unit: KB/s)                                                                                                                           |
   |                       |                       |                                                                                                                                                                                                                              |
   |                       |                       | DN: average write rate of a user's complex jobs on a single DN in the last 5 seconds. (Unit: KB/s)                                                                                                                           |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
