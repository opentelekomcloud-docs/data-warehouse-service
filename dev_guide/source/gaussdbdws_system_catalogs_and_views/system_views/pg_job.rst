:original_name: dws_04_0733.html

.. _dws_04_0733:

PG_JOB
======

**PG_JOB** displays detailed information about scheduled tasks created by users.

The **PG_JOB** view replaces the **PG_JOB** system catalog in earlier versions and provides forward compatibility with earlier versions. The original **PG_JOB** system catalog is changed to the **PG_JOBS** system catalog. For details about **PG_JOBS**, see :ref:`PG_JOBS <dws_04_0596>`.

.. table:: **Table 1** PG_JOB columns

   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Column                | Type                        | Description                                                                                                                                                                                                                      |
   +=======================+=============================+==================================================================================================================================================================================================================================+
   | job_id                | Bigint                      | Job ID                                                                                                                                                                                                                           |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | current_postgres_pid  | Bigint                      | If the current job has been executed, the PostgreSQL thread ID of this job is recorded. The default value is **-1**, indicating that the task is not executed or has been executed.                                              |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | log_user              | Name                        | User name of the job creator                                                                                                                                                                                                     |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | priv_user             | Name                        | User name of the job executor                                                                                                                                                                                                    |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dbname                | Name                        | Name of the database where the job is executed                                                                                                                                                                                   |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | node_name             | Name                        | CN node on which the job will be created and executed                                                                                                                                                                            |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | job_status            | Text                        | Status of the current job. The value range is **r**, **s**, **f**, **d**, **p**, **w**, or **l**. The default value is **s**. The indications are as follows:                                                                    |
   |                       |                             |                                                                                                                                                                                                                                  |
   |                       |                             | -  r=running                                                                                                                                                                                                                     |
   |                       |                             | -  s=successfully finished                                                                                                                                                                                                       |
   |                       |                             | -  f=job failed                                                                                                                                                                                                                  |
   |                       |                             | -  d=disable                                                                                                                                                                                                                     |
   |                       |                             | -  p=pending                                                                                                                                                                                                                     |
   |                       |                             | -  w=waiting                                                                                                                                                                                                                     |
   |                       |                             | -  l=launching                                                                                                                                                                                                                   |
   |                       |                             |                                                                                                                                                                                                                                  |
   |                       |                             | .. note::                                                                                                                                                                                                                        |
   |                       |                             |                                                                                                                                                                                                                                  |
   |                       |                             |    -  Note: When you disable a scheduled task (by setting **job_queue_processes** to **0**), the thread monitor the job execution is not started, and the **job_status** will not be updated. You can ignore the **job_status**. |
   |                       |                             |    -  Only when the scheduled task function is enabled (that is, when **job_queue_processes** is not **0**), the system updates the value of **job_status** based on the real-time job status.                                   |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | start_date            | Timestamp without time zone | Start time of the first job execution, precise to millisecond                                                                                                                                                                    |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | next_run_date         | Timestamp without time zone | Scheduled time of the next job execution, accurate to millisecond                                                                                                                                                                |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | failure_count         | Smallint                    | Number of consecutive failures                                                                                                                                                                                                   |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | interval              | Text                        | Job execution interval                                                                                                                                                                                                           |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | last_start_date       | Timestamp without time zone | Start time of the last job execution, accurate to millisecond                                                                                                                                                                    |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | last_end_date         | Timestamp without time zone | End time of the last job execution, accurate to millisecond                                                                                                                                                                      |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | last_suc_date         | Timestamp without time zone | Start time of the last successful job execution, accurate to millisecond                                                                                                                                                         |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | this_run_date         | Timestamp without time zone | Start time of the ongoing job execution, accurate to millisecond                                                                                                                                                                 |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | nspname               | Name                        | Name of the namespace where a job is running                                                                                                                                                                                     |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | what                  | Text                        | Job content                                                                                                                                                                                                                      |
   +-----------------------+-----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
