:original_name: dws_04_0982.html

.. _dws_04_0982:

PGXC_RESPOOL_RESOURCE_HISTORY
=============================

**PGXC_RESPOOL_RESOURCE_HISTORY** is used to query historical monitoring information about resource pools on all instances.

.. table:: **Table 1** PGXC_RESPOOL_RESOURCE_HISTORY columns

   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Name                  | Type                  | Description                                                                                                                                                                                                                                                      |
   +=======================+=======================+==================================================================================================================================================================================================================================================================+
   | nodename              | name                  | Instance name, including CNs and DNs                                                                                                                                                                                                                             |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | timestamp             | timestamp             | Time when resource pool monitoring information is persistently stored                                                                                                                                                                                            |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | nodegroup             | name                  | Name of the logical cluster the resource pool belongs to. The default cluster is **installation**.                                                                                                                                                               |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | rpname                | name                  | Resource pool name                                                                                                                                                                                                                                               |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cgroup                | name                  | Name of the Cgroup associated with the resource pool                                                                                                                                                                                                             |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ref_count             | int                   | Number of jobs referenced by the resource pool. The number is counted regardless of whether the jobs are controlled by the resource pool. This parameter is valid only on CNs.                                                                                   |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fast_run              | int                   | Number of running jobs in the fast lane of the resource pool. This parameter is valid only on CNs.                                                                                                                                                               |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fast_wait             | int                   | Number of jobs queued in the fast lane of the resource pool. This parameter is valid only on CNs.                                                                                                                                                                |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fast_limit            | int                   | Limit on the number of concurrent jobs in the fast lane in a resource pool. This parameter is valid only on CNs.                                                                                                                                                 |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | slow_run              | int                   | Number of running jobs in the slow lane of the resource pool. This parameter is valid only on CNs.                                                                                                                                                               |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | slow_wait             | int                   | Number of jobs queued in the slow lane of the resource pool. This parameter is valid only on CNs.                                                                                                                                                                |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | slow_limit            | int                   | Limit on the number of concurrent jobs in the slow lane in a resource pool. This parameter is valid only on CNs.                                                                                                                                                 |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_cpu              | double                | Average number of CPUs used by the resource pool in a 5s monitoring period. The value is accurate to two decimal places.                                                                                                                                         |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the number of CPUs used by the resource pool on the current DN.                                                                                                                                                                         |
   |                       |                       | -  On a CN, it indicates the total CPU usage of resource pools on all DNs.                                                                                                                                                                                       |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cpu_limit             | int                   | It indicates the upper limit of available CPUs for resource pools. If the CPU share is limited, this parameter indicates the available CPUs for GaussDB(DWS). If the CPU limit is specified, this parameter indicates the available CPUs for associated Cgroups. |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the upper limit of available CPUs for the resource pool on the current DN.                                                                                                                                                              |
   |                       |                       | -  On a CN, it indicates the total upper limit of available CPUs for resource pools on all DNs.                                                                                                                                                                  |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_mem              | int                   | Memory used by the resource pool, in MB                                                                                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the memory usage of the resource pool on the current DN.                                                                                                                                                                                |
   |                       |                       | -  On a CN, it indicates the total memory usage of resource pools on all DNs.                                                                                                                                                                                    |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | estimate_mem          | int                   | Estimated memory used by the jobs running in the resource pools on the current CN. This parameter is valid only on CNs.                                                                                                                                          |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | mem_limit             | int                   | Upper limit of available memory for the resource pool, in MB                                                                                                                                                                                                     |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the upper limit of available memory for the resource pool on the current DN.                                                                                                                                                            |
   |                       |                       | -  On a CN, it indicates the total upper limit of available memory for resource pools on all DNs.                                                                                                                                                                |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | read_kbytes           | bigint                | Number of logical read bytes in the resource pool within a 5s monitoring period, in KB                                                                                                                                                                           |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the number of logical read bytes in the resource pool on the current DN.                                                                                                                                                                |
   |                       |                       | -  On a CN, it indicates the total logical read bytes of resource pools on all DNs.                                                                                                                                                                              |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | write_kbytes          | bigint                | Number of logical write bytes in the resource pool within a 5s monitoring period, in KB                                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the number of logical write bytes in the resource pool on the current DN.                                                                                                                                                               |
   |                       |                       | -  On a CN, it indicates the total logical write bytes of resource pools on all DNs.                                                                                                                                                                             |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | read_counts           | bigint                | Number of logical reads in the resource pool within a 5s monitoring period                                                                                                                                                                                       |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the number of logical reads in the resource pool on the current DN.                                                                                                                                                                     |
   |                       |                       | -  On a CN, it indicates the total number of logical reads in resource pools on all DNs.                                                                                                                                                                         |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | write_counts          | bigint                | Number of logical writes in the resource pool within a 5s monitoring period.                                                                                                                                                                                     |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the number of logical writes in the resource pool on the current DN.                                                                                                                                                                    |
   |                       |                       | -  On a CN, it indicates the total number of logical writes in resource pools on all DNs.                                                                                                                                                                        |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | read_speed            | double                | Average logical read rate of a resource pool in a 5-second monitoring period, in KB/s                                                                                                                                                                            |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the logical read rate of the resource pool on the current DN.                                                                                                                                                                           |
   |                       |                       | -  On a CN, it indicates the overall logical read rate of resource pools on all DNs.                                                                                                                                                                             |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | write_speed           | double                | Average logical write rate of a resource pool in a 5-second monitoring period, in KB/s                                                                                                                                                                           |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the logical write rate of the resource pool on the current DN.                                                                                                                                                                          |
   |                       |                       | -  On a CN, it indicates the overall logical write rate of resource pools on all DNs.                                                                                                                                                                            |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | send_speed            | double                | Average network sending rate of a resource pool in a 5-second monitoring period, in KB/s                                                                                                                                                                         |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the network sending rate of the resource pool on the current DN.                                                                                                                                                                        |
   |                       |                       | -  On a CN, it indicates the sum of the network sending rates of the resource pool on all DNs.                                                                                                                                                                   |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | recv_speed            | double                | Average network receiving rate of a resource pool in a 5-second monitoring period, in KB/s                                                                                                                                                                       |
   |                       |                       |                                                                                                                                                                                                                                                                  |
   |                       |                       | -  On a DN, it indicates the network receiving rate of the resource pool on the current DN.                                                                                                                                                                      |
   |                       |                       | -  On a CN, it indicates the sum of the network receiving rates of the resource pool on all DNs.                                                                                                                                                                 |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
