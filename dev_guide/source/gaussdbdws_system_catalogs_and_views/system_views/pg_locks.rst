:original_name: dws_04_0737.html

.. _dws_04_0737:

PG_LOCKS
========

**PG_LOCKS** displays information about the locks held by open transactions.

.. table:: **Table 1** PG_LOCKS columns

   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Column             | Type                     | Reference                            | Description                                                                                                                                                                 |
   +====================+==========================+======================================+=============================================================================================================================================================================+
   | locktype           | Text                     | N/A                                  | Type of the locked object: relation, extend, page, tuple, transactionid, virtualxid, object, userlock, and advisory                                                         |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | database           | OID                      | :ref:`PG_DATABASE <dws_04_0582>`.oid | OID of the database in which the locked target exists                                                                                                                       |
   |                    |                          |                                      |                                                                                                                                                                             |
   |                    |                          |                                      | -  The OID is **0** if the target is a shared object.                                                                                                                       |
   |                    |                          |                                      | -  The OID is **NULL** if the locked target is a transaction.                                                                                                               |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | relation           | OID                      | :ref:`PG_CLASS <dws_04_0578>`.oid    | OID of the relationship targeted by the lock. The value is **NULL** if the object is neither a relationship nor part of a relationship.                                     |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | page               | Integer                  | N/A                                  | Page number targeted by the lock within the relationship. If the object is neither a relation page nor row page, the value is **NULL**.                                     |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tuple              | Smallint                 | N/A                                  | Row number targeted by the lock within the page. If the object is not a row, the value is **NULL**.                                                                         |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | virtualxid         | Text                     | N/A                                  | Virtual ID of the transaction targeted by the lock. If the object is not a virtual transaction ID, the value is **NULL**.                                                   |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | transactionid      | Xid                      | N/A                                  | ID of the transaction targeted by the lock. If the object is not a transaction ID, the value is **NULL**.                                                                   |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | classid            | OID                      | :ref:`PG_CLASS <dws_04_0578>`.oid    | OID of the system table that contains the object. If the object is not a general database object, the value is **NULL**.                                                    |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | objid              | OID                      | N/A                                  | OID of the lock target within its system table. If the target is not a general database object, the value is **NULL**.                                                      |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | objsubid           | Smallint                 | N/A                                  | Column number for a column in the table. The value is **0** if the target is some other object type. If the object is not a general database object, the value is **NULL**. |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | virtualtransaction | Text                     | N/A                                  | Virtual ID of the transaction holding or awaiting this lock                                                                                                                 |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | pid                | Bigint                   | N/A                                  | Logical ID of the server thread holding or awaiting this lock. This is **NULL** if the lock is held by a prepared transaction.                                              |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | mode               | Text                     | N/A                                  | Lock mode held or desired by this thread For more information about lock modes, see "LOCK" in the *Data Warehouse Service (DWS) SQL Syntax Reference*.                      |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | granted            | boolean                  | N/A                                  | -  The value is **true** if the lock is a held lock.                                                                                                                        |
   |                    |                          |                                      | -  The value is **false** if the lock is an awaited lock.                                                                                                                   |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fastpath           | boolean                  | N/A                                  | Whether the lock is obtained through **fast-path** (**true**) or main lock table (**false**)                                                                                |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | waittime           | Timestamp with time zone | N/A                                  | Timestamp when the lock wait starts.                                                                                                                                        |
   |                    |                          |                                      |                                                                                                                                                                             |
   |                    |                          |                                      | This column is available only in clusters of version 9.1.0.200 or later.                                                                                                    |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | holdtime           | Timestamp with time zone | N/A                                  | Timestamp when the lock starts to be held. This column is available only in clusters of version 9.1.0.200 or later.                                                         |
   +--------------------+--------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
