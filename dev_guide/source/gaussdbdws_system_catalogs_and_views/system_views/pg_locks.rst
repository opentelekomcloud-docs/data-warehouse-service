:original_name: dws_04_0737.html

.. _dws_04_0737:

PG_LOCKS
========

**PG_LOCKS** displays information about the locks held by open transactions.

.. table:: **Table 1** PG_LOCKS columns

   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Name               | Type            | Reference                            | Description                                                                                                                                                                 |
   +====================+=================+======================================+=============================================================================================================================================================================+
   | locktype           | text            | ``-``                                | Type of the locked object: relation, extend, page, tuple, transactionid, virtualxid, object, userlock, and advisory                                                         |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | database           | oid             | :ref:`PG_DATABASE <dws_04_0582>`.oid | OID of the database in which the locked target exists                                                                                                                       |
   |                    |                 |                                      |                                                                                                                                                                             |
   |                    |                 |                                      | -  The OID is **0** if the target is a shared object.                                                                                                                       |
   |                    |                 |                                      | -  The OID is **NULL** if the locked target is a transaction.                                                                                                               |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | relation           | oid             | :ref:`PG_CLASS <dws_04_0578>`.oid    | OID of the relationship targeted by the lock. The value is **NULL** if the object is neither a relationship nor part of a relationship.                                     |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | page               | integer         | ``-``                                | Page number targeted by the lock within the relationship. If the object is neither a relation page nor row page, the value is **NULL**.                                     |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tuple              | smallint        | ``-``                                | Row number targeted by the lock within the page. If the object is not a row, the value is **NULL**.                                                                         |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | virtualxid         | text            | ``-``                                | Virtual ID of the transaction targeted by the lock. If the object is not a virtual transaction ID, the value is **NULL**.                                                   |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | transactionid      | xid             | ``-``                                | ID of the transaction targeted by the lock. If the object is not a transaction ID, the value is **NULL**.                                                                   |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | classid            | oid             | :ref:`PG_CLASS <dws_04_0578>`.oid    | OID of the system table that contains the object. If the object is not a general database object, the value is **NULL**.                                                    |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | objid              | oid             | ``-``                                | OID of the lock target within its system table. If the target is not a general database object, the value is **NULL**.                                                      |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | objsubid           | smallint        | ``-``                                | Column number for a column in the table. The value is **0** if the target is some other object type. If the object is not a general database object, the value is **NULL**. |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | virtualtransaction | text            | ``-``                                | Virtual ID of the transaction holding or awaiting this lock                                                                                                                 |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | pid                | bigint          | ``-``                                | Logical ID of the server thread holding or awaiting this lock. This is **NULL** if the lock is held by a prepared transaction.                                              |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | mode               | text            | ``-``                                | Lock mode held or desired by this thread For more information, see "LOCK" in the *Data Warehouse Service (DWS) SQL Syntax Reference*.                                       |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | granted            | boolean         | ``-``                                | -  The value is **true** if the lock is a held lock.                                                                                                                        |
   |                    |                 |                                      | -  The value is **false** if the lock is an awaited lock.                                                                                                                   |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fastpath           | boolean         | ``-``                                | Whether the lock is obtained through **fast-path** (**true**) or main lock table (**false**)                                                                                |
   +--------------------+-----------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
