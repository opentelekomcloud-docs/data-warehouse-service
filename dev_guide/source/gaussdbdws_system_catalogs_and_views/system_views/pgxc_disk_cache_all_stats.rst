:original_name: dws_04_1234.html

.. _dws_04_1234:

PGXC_DISK_CACHE_ALL_STATS
=========================

**PGXC_DISK_CACHE_ALL_STATS** records all usage of file cache. This system view is supported only by clusters of version 9.1.0 or later.

.. table:: **Table 1** PGXC_DISK_CACHE_ALL_STATS columns

   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | Column          | Type         | Description                                                                                                  |
   +=================+==============+==============================================================================================================+
   | node_name       | Text         | Node name.                                                                                                   |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | total_read      | Bigint       | Total number of accesses to disk cache.                                                                      |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | local_read      | Bigint       | Total number of times disk cache accesses local disk.                                                        |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | remote_read     | Bigint       | Total number of times disk cache accesses remote storage.                                                    |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | hit_rate        | numeric(5,2) | Hit rate of disk cache.                                                                                      |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | cache_size      | Bigint       | Total size of data saved in disk cache, in KB.                                                               |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | fill_rate       | numeric(5,2) | Fill rate of disk cache.                                                                                     |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | temp_file_size  | Bigint       | Total size of temporary/cold cache files, in KB.                                                             |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | a1in_size       | Bigint       | Total size of data saved in the **a1in** queue of disk cache, in KB.                                         |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | a1out_size      | Bigint       | Total size of data saved in the **a1out** queue of disk cache, in KB.                                        |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | am_size         | Bigint       | Total size of data saved in the **am** queue of disk cache, in KB.                                           |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | a1in_fill_rate  | numeric(5,2) | Fill rate of the **a1in** queue in disk cache.                                                               |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | a1out_fill_rate | numeric(5,2) | Fill rate of the **a1out** queue in disk cache.                                                              |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | am_fill_rate    | numeric(5,2) | Fill rate of the **am** queue in disk cache.                                                                 |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | fd              | Integer      | Number of file descriptors currently in use by disk cache.                                                   |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+
   | pin_block_count | Bigint       | Number of pinned blocks in disk cache. This field is supported only by 9.1.0.100 and later cluster versions. |
   +-----------------+--------------+--------------------------------------------------------------------------------------------------------------+

Example
-------

Query the number of file descriptors used by disk cache on each node.

::

   SELECT fd FROM pgxc_disk_cache_all_stats;
     fd
   ------
    1000
    1000
       0
       0
       0
       0
   (6 rows)
