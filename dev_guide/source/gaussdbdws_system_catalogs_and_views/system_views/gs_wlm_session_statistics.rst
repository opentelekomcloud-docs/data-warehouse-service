:original_name: dws_04_0706.html

.. _dws_04_0706:

GS_WLM_SESSION_STATISTICS
=========================

**GS_WLM_SESSION_STATISTICS** displays load management information about jobs being executed by the current user on the current CN.

.. table:: **Table 1** GS_WLM_SESSION_STATISTICS columns

   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Column                      | Type                     | Description                                                                                                                                                                                                                                                               |
   +=============================+==========================+===========================================================================================================================================================================================================================================================================+
   | datid                       | OID                      | OID of the database this backend is connected to                                                                                                                                                                                                                          |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dbname                      | Name                     | Name of the database the backend is connected to                                                                                                                                                                                                                          |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | schemaname                  | Text                     | Schema name                                                                                                                                                                                                                                                               |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | nodename                    | Text                     | Name of the CN where the statement is executed                                                                                                                                                                                                                            |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | username                    | Name                     | User name used for connecting to the backend                                                                                                                                                                                                                              |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | application_name            | Text                     | Name of the application that is connected to the backend                                                                                                                                                                                                                  |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | client_addr                 | inet                     | IP address of the client connected to this backend. If this column is null, it indicates either that the client is connected via a Unix socket on the server machine or that this is an internal process such as autovacuum.                                              |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | client_hostname             | Text                     | Host name of the connected client, as reported by a reverse DNS lookup of **client_addr**. This column will only be non-null for IP connections, and only when **log_hostname** is enabled.                                                                               |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | client_port                 | Integer                  | TCP port number that the client uses for communication with this backend, or **-1** if a Unix socket is used                                                                                                                                                              |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | query_band                  | Text                     | Job type, which can be set using the GUC parameter **query_band** and is a null string by default.                                                                                                                                                                        |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | pid                         | Bigint                   | Process ID of the backend                                                                                                                                                                                                                                                 |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | block_time                  | Bigint                   | Block time before the statement is executed. The unit is ms.                                                                                                                                                                                                              |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | start_time                  | Timestamp with time zone | Time when the statement starts to be executed                                                                                                                                                                                                                             |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | duration                    | Bigint                   | For how long a statement has been executing. The unit is ms.                                                                                                                                                                                                              |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | estimate_total_time         | Bigint                   | Estimated execution time of a statement. The unit is ms.                                                                                                                                                                                                                  |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | estimate_left_time          | Bigint                   | Estimated remaining time of statement execution. The unit is ms.                                                                                                                                                                                                          |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enqueue                     | Text                     | Workload management resource status                                                                                                                                                                                                                                       |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | resource_pool               | Name                     | Resource pool used by the user                                                                                                                                                                                                                                            |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | control_group               | Text                     | Cgroup used by the statement                                                                                                                                                                                                                                              |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | estimate_memory             | Integer                  | Estimated memory used by a statement on a single instance. The unit is MB.                                                                                                                                                                                                |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | min_peak_memory             | Integer                  | Minimum memory peak of a statement across all DNs. The unit is MB.                                                                                                                                                                                                        |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | max_peak_memory             | Integer                  | Maximum memory peak of a statement across all DNs. The unit is MB.                                                                                                                                                                                                        |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | average_peak_memory         | Integer                  | Average memory usage during statement execution. The unit is MB.                                                                                                                                                                                                          |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | memory_skew_percent         | Integer                  | Memory usage skew of a statement among DNs.                                                                                                                                                                                                                               |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | spill_info                  | Text                     | Statement spill information on all DNs.                                                                                                                                                                                                                                   |
   |                             |                          |                                                                                                                                                                                                                                                                           |
   |                             |                          | **None**: The statement has not been spilled to disks on any DNs.                                                                                                                                                                                                         |
   |                             |                          |                                                                                                                                                                                                                                                                           |
   |                             |                          | **All**: The statement has been spilled to disks on all DNs.                                                                                                                                                                                                              |
   |                             |                          |                                                                                                                                                                                                                                                                           |
   |                             |                          | **[**\ *a*\ **:**\ *b*\ **]**: The statement has been spilled to disks on *a* of *b* DNs.                                                                                                                                                                                 |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | min_spill_size              | Integer                  | Minimum spilled data among all DNs when a spill occurs. The unit is MB. The default value is **0**.                                                                                                                                                                       |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | max_spill_size              | Integer                  | Maximum spilled data among all DNs when a spill occurs. The unit is MB. The default value is **0**.                                                                                                                                                                       |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | average_spill_size          | Integer                  | Average spilled data among all DNs when a spill occurs. The unit is MB. The default value is **0**.                                                                                                                                                                       |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | spill_skew_percent          | Integer                  | DN spill skew when a spill occurs                                                                                                                                                                                                                                         |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | min_dn_time                 | Bigint                   | Minimum execution time of a statement across all DNs. The unit is ms.                                                                                                                                                                                                     |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | max_dn_time                 | Bigint                   | Maximum execution time of a statement across all DNs. The unit is ms.                                                                                                                                                                                                     |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | average_dn_time             | Bigint                   | Average execution time of a statement across all DNs. The unit is ms.                                                                                                                                                                                                     |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dntime_skew_percent         | Integer                  | Execution time skew of a statement among DNs.                                                                                                                                                                                                                             |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | min_cpu_time                | Bigint                   | Minimum CPU time of a statement across all DNs. The unit is ms.                                                                                                                                                                                                           |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | max_cpu_time                | Bigint                   | Maximum CPU time of a statement across all DNs. The unit is ms.                                                                                                                                                                                                           |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_cpu_time              | Bigint                   | Total CPU time of a statement across all DNs. The unit is ms.                                                                                                                                                                                                             |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cpu_skew_percent            | Integer                  | CPU time skew of a statement among DNs.                                                                                                                                                                                                                                   |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | min_peak_iops               | Integer                  | Minimum IOPS peak of a statement across all DNs. It is counted by ones in a column-store table and by ten thousands in a row-store table.                                                                                                                                 |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | max_peak_iops               | Integer                  | Maximum IOPS peak of a statement across all DNs. It is counted by ones in a column-store table and by ten thousands in a row-store table.                                                                                                                                 |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | average_peak_iops           | Integer                  | Average IOPS peak of a statement across all DNs. It is counted by ones in a column-store table and by ten thousands in a row-store table.                                                                                                                                 |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | iops_skew_percent           | Integer                  | I/O skew across DNs.                                                                                                                                                                                                                                                      |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | min_read_speed              | Integer                  | Minimum I/O read rate of a statement across all DNs within a monitoring period (5s). The unit is KB/s.                                                                                                                                                                    |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | max_read_speed              | Integer                  | Maximum I/O read rate of a statement across all DNs within a monitoring period (5s). The unit is KB/s.                                                                                                                                                                    |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | average_read_speed          | Integer                  | Average I/O read rate of a statement across all DNs within a monitoring period (5s). The unit is KB/s.                                                                                                                                                                    |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | min_write_speed             | Integer                  | Minimum I/O write rate of a statement across all DNs within a monitoring period (5s). The unit is KB/s.                                                                                                                                                                   |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | max_write_speed             | Integer                  | Maximum I/O write rate of a statement across all DNs within a monitoring period (5s). The unit is KB/s.                                                                                                                                                                   |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | average_write_speed         | Integer                  | Average I/O write rate of a statement across all DNs within a monitoring period (5s). The unit is KB/s.                                                                                                                                                                   |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | recv_pkg                    | Bigint                   | Total number of communication packages received by a statement across all DNs.                                                                                                                                                                                            |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | send_pkg                    | Bigint                   | Total number of communication packages sent by a statement across all DNs.                                                                                                                                                                                                |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | recv_bytes                  | Bigint                   | Total received data of the statement stream, in byte.                                                                                                                                                                                                                     |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | send_bytes                  | Bigint                   | Total sent data of the statement stream, in byte.                                                                                                                                                                                                                         |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | warning                     | Text                     | Warning. The following warnings and warnings related to SQL self-diagnosis tuning are displayed:                                                                                                                                                                          |
   |                             |                          |                                                                                                                                                                                                                                                                           |
   |                             |                          | #. Spill file size large than 256MB                                                                                                                                                                                                                                       |
   |                             |                          | #. Broadcast size large than 100MB                                                                                                                                                                                                                                        |
   |                             |                          | #. Early spill                                                                                                                                                                                                                                                            |
   |                             |                          | #. Spill times is greater than 3                                                                                                                                                                                                                                          |
   |                             |                          | #. Spill on memory adaptive                                                                                                                                                                                                                                               |
   |                             |                          | #. Hash table conflict                                                                                                                                                                                                                                                    |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | unique_sql_id               | Bigint                   | ID of the normalized unique SQL.                                                                                                                                                                                                                                          |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | queryid                     | Bigint                   | Internal query ID used for statement execution                                                                                                                                                                                                                            |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | query                       | Text                     | Statement that is being executed                                                                                                                                                                                                                                          |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | query_plan                  | Text                     | Execution plan of a statement                                                                                                                                                                                                                                             |
   |                             |                          |                                                                                                                                                                                                                                                                           |
   |                             |                          | Specification restrictions:                                                                                                                                                                                                                                               |
   |                             |                          |                                                                                                                                                                                                                                                                           |
   |                             |                          | #. Execution plans are displayed only for DML statements.                                                                                                                                                                                                                 |
   |                             |                          | #. In 8.2.1.100 and later versions, the number of data binding times is added to the execution plans of Parse Bind Execute (PBE) statements to facilitate statement analysis. The number of data binding times is displayed in the format of **PBE bind times:** *Times*. |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | node_group                  | Text                     | Logical cluster of the user running the statement                                                                                                                                                                                                                         |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | stmt_type                   | Text                     | Query type corresponding to the statement.                                                                                                                                                                                                                                |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | except_info                 | Text                     | Information about the exception rule triggered by the statement.                                                                                                                                                                                                          |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | parse_time                  | Bigint                   | Total parsing time before the statement is queued (including lexical and syntax parsing, optimization rewriting, and plan generation time), in milliseconds.                                                                                                              |
   |                             |                          |                                                                                                                                                                                                                                                                           |
   |                             |                          | This column is only supported in version 8.3.0.100 or later.                                                                                                                                                                                                              |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | unique_plan_id              | Bigint                   | ID of the normalized unique plan.                                                                                                                                                                                                                                         |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sql_hash                    | Text                     | Normalized SQL hash.                                                                                                                                                                                                                                                      |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | plan_hash                   | Text                     | Normalized plan hash.                                                                                                                                                                                                                                                     |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | disk_cache_hit_ratio        | numeric(5,2)             | Disk cache hit rate. This column only applies to OBS 3.0 tables and foreign tables.                                                                                                                                                                                       |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | disk_cache_disk_read_size   | Bigint                   | Total size of data read from disk cache, in MB. This column only applies to OBS 3.0 tables and foreign tables.                                                                                                                                                            |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | disk_cache_disk_write_size  | Bigint                   | Total size of data written to disk cache, in MB. This column only applies to OBS 3.0 tables and foreign tables.                                                                                                                                                           |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | disk_cache_remote_read_size | Bigint                   | Total size of data read remotely from OBS due to disk cache read failure, in MB. This column only applies to OBS 3.0 tables and foreign tables.                                                                                                                           |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | disk_cache_remote_read_time | Bigint                   | Total number of times data is read remotely from OBS due to disk cache read failure. This column only applies to OBS 3.0 tables and foreign tables.                                                                                                                       |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | block_name                  | Text                     | Name of the interception rule that matches the statement. This column is available only in clusters of version 9.1.0.200 or later.                                                                                                                                        |
   +-----------------------------+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
