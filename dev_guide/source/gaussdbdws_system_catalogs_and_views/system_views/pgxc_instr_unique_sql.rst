:original_name: dws_04_0808.html

.. _dws_04_0808:

PGXC_INSTR_UNIQUE_SQL
=====================

**PGXC_INSTR_UNIQUE_SQL** displays the complete Unique SQL statistics of all CN nodes in the cluster.

Only the system administrator can access this view. The columns in this view are the same as those in the **GS_INSTR_UNIQUE_SQL** view. For details about columns in the view, see :ref:`Table 1 <en-us_topic_0000001764491148__table1350052261017>`.

.. _en-us_topic_0000001764491148__table1350052261017:

.. table:: **Table 1** GS_INSTR_UNIQUE_SQL columns

   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Column              | Type                     | Description                                                                                                                                                                                                           |
   +=====================+==========================+=======================================================================================================================================================================================================================+
   | node_name           | Name                     | Name of the CN that receives SQL statements                                                                                                                                                                           |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | node_id             | Integer                  | Node ID, which is the same as the value of **node_id** in the **pgxc_node** table                                                                                                                                     |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | user_name           | Name                     | Username                                                                                                                                                                                                              |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | user_id             | OID                      | User ID                                                                                                                                                                                                               |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | unique_sql_id       | Bigint                   | Normalized Unique SQL ID                                                                                                                                                                                              |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | query               | Text                     | Normalized SQL text                                                                                                                                                                                                   |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_calls             | Bigint                   | Number of successful execution times                                                                                                                                                                                  |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | min_elapse_time     | Bigint                   | Minimum running time of the SQL statement in the database (unit: μs)                                                                                                                                                  |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | max_elapse_time     | Bigint                   | Maximum running time of SQL statements in the database (unit: μs)                                                                                                                                                     |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_elapse_time   | Bigint                   | Total running time of SQL statements in the database (unit: μs)                                                                                                                                                       |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_returned_rows     | Bigint                   | Row activity - Number of rows in the result set returned by the **SELECT** statement                                                                                                                                  |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_tuples_fetched    | Bigint                   | Row activity - Randomly scan rows (column-store tables/foreign tables are not counted.)                                                                                                                               |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_tuples_returned   | Bigint                   | Row activity - Sequential scan rows (Column-store tables/foreign tables are not counted.)                                                                                                                             |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_tuples_inserted   | Bigint                   | Row activity - Inserted rows                                                                                                                                                                                          |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_tuples_updated    | Bigint                   | Row activity - Updated rows                                                                                                                                                                                           |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_tuples_deleted    | Bigint                   | Row activity - Deleted rows                                                                                                                                                                                           |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_blocks_fetched    | Bigint                   | Block access times of the buffer, that is, physical read/I/O                                                                                                                                                          |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_blocks_hit        | Bigint                   | Block hits of the buffer, that is, logical read/cache                                                                                                                                                                 |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_soft_parse        | Bigint                   | Number of soft parsing times (cache plan)                                                                                                                                                                             |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | n_hard_parse        | Bigint                   | Number of hard parsing times (generation plan)                                                                                                                                                                        |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | db_time             | Bigint                   | Valid DB execution time, including the waiting time and network sending time. If multiple threads are involved in query execution, the value of **DB_TIME** is the sum of **DB_TIME** of multiple threads (unit: μs). |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cpu_time            | Bigint                   | CPU execution time, excluding the sleep time (unit: μs)                                                                                                                                                               |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | execution_time      | Bigint                   | SQL execution time in the query executor, DDL statements, and statements (such as Copy statements) that are not executed by the executor are not counted (unit: μs).                                                  |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | parse_time          | Bigint                   | SQL parsing time (unit: μs)                                                                                                                                                                                           |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | plan_time           | Bigint                   | SQL generation plan time (unit: μs)                                                                                                                                                                                   |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | rewrite_time        | Bigint                   | SQL rewriting time (unit: μs)                                                                                                                                                                                         |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | pl_execution_time   | Bigint                   | Execution time of the plpgsql procedural language function (unit: μs)                                                                                                                                                 |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | pl_compilation_time | Bigint                   | Compilation time of the plpgsql procedural language function (unit: μs)                                                                                                                                               |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | net_send_time       | Bigint                   | Network time, including the time spent by the CN in sending data to the client and the time spent by the DN in sending data to the CN (unit: μs)                                                                      |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | data_io_time        | Bigint                   | File I/O time (unit: μs)                                                                                                                                                                                              |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | first_time          | Timestamp with time zone | Time of the first SQL statement execution                                                                                                                                                                             |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | last_time           | Timestamp with time zone | Time of the last SQL statement execution                                                                                                                                                                              |
   +---------------------+--------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
