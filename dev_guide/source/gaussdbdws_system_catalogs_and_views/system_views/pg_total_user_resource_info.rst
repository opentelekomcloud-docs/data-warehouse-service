:original_name: dws_04_0790.html

.. _dws_04_0790:

PG_TOTAL_USER_RESOURCE_INFO
===========================

**PG_TOTAL_USER_RESOURCE_INFO** displays the resource usage of all users. Only administrators can query this view. This view is valid only if use_workload_manager is set to **on**.

.. table:: **Table 1** **PG_TOTAL_USER_RESOURCE_INFO** columns

   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Name                  | Type                  | Description                                                                                                                                                                                                                            |
   +=======================+=======================+========================================================================================================================================================================================================================================+
   | username              | name                  | Username                                                                                                                                                                                                                               |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_memory           | integer               | Memory used by a user, in MB.                                                                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | -  On a DN, it indicates the memory used by users on the current DN.                                                                                                                                                                   |
   |                       |                       | -  On a CN, it indicates the total memory used by users on all DNs.                                                                                                                                                                    |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_memory          | integer               | Memory used by the resource pool, in MB. **0** indicates that the maximum available memory is not limited and depends on the maximum available memory of the database (**max_dynamic_memory**). The calculation formula is as follows: |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | total_memory = max_dynamic_memory \* parent_percent \* user_percent                                                                                                                                                                    |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | On a CN, it indicates the total maximum available memory on all DNs.                                                                                                                                                                   |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_cpu              | double precision      | Number of CPU cores in use. Only the CPU usage of complex jobs in the non-default resource pool is collected, and the value is the CPU usage of the related cgroup.                                                                    |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_cpu             | integer               | Total number of CPU cores of the Cgroup associated with a user on the node                                                                                                                                                             |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_space            | bigint                | Used permanent table storage space (unit: KB)                                                                                                                                                                                          |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_space           | bigint                | Available storage space (unit: KB). **-1** indicates that the storage space is not limited.                                                                                                                                            |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_temp_space       | bigint                | Used temporary table storage space (unit: KB)                                                                                                                                                                                          |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_temp_space      | bigint                | Available temporary table storage space (unit: KB). **-1** indicates that the storage space is not limited.                                                                                                                            |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_spill_space      | bigint                | Size of the used operator flushing space, in KB                                                                                                                                                                                        |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | total_spill_space     | bigint                | Size of the available operator flushing space, in KB. The value **-1** indicates that the operator flushing space is not limited.                                                                                                      |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | read_kbytes           | bigint                | On a CN, it indicates the total number of bytes logically read by a user on all DNs in the last 5 seconds, in KB.                                                                                                                      |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | On a DN, it indicates the total number of bytes logically read by a user from the instance startup time to the current time, in KB.                                                                                                    |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | write_kbytes          | bigint                | On a CN, it indicates the total number of bytes logically written by a user on all DNs in the last 5 seconds, in KB.                                                                                                                   |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | On a DN, it indicates the total number of bytes logically written by a user from the instance startup time to the current time, in KB.                                                                                                 |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | read_counts           | bigint                | On a CN, it indicates the total number of logical reads performed by a user on all DNs in the last 5 seconds.                                                                                                                          |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | On a DN, it indicates the total number of logical reads performed by a user from the instance startup time to the current time.                                                                                                        |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | write_counts          | bigint                | On a CN, it indicates the total number of logical writes performed by a user on all DNs in the last 5 seconds.                                                                                                                         |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | On a DN, it indicates the total number of logical writes performed by a user from the instance startup time to the current time.                                                                                                       |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | read_speed            | double precision      | On a CN, it indicates the sum of average logical read rates of a user on all DNs in the last 5 seconds, in KB/s.                                                                                                                       |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | On a DN, it indicates the average logical read rate of a user on the DN in the last 5 seconds, in KB/s.                                                                                                                                |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | write_speed           | double precision      | On a CN, it indicates the sum of average logical write rates of a user on all DNs in the last 5 seconds, in KB/s.                                                                                                                      |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | On a DN, it indicates the average logical write rate of a user on the DN in the last 5 seconds, in KB/s.                                                                                                                               |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | send_speed            | double precision      | On a CN, it indicates the sum of the average network sending rates of a user on all DNs in the last 5 seconds, in KB/s.                                                                                                                |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | On a DN, it indicates the average network sending rate of a user on the DN in the last 5 seconds, in KB/s.                                                                                                                             |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | recv_speed            | double precision      | On a CN, it indicates the sum of the average network receiving rates of a user on all DNs in the last 5 seconds, in KB/s.                                                                                                              |
   |                       |                       |                                                                                                                                                                                                                                        |
   |                       |                       | On a DN, it indicates the average network receiving rate of a user on the DN in the last 5 seconds, in KB/s.                                                                                                                           |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
