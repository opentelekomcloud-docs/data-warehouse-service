:original_name: dws_04_1407.html

.. _dws_04_1407:

PG_BLOCKLISTS
=============

**PG_BLOCKLISTS** records query filtering rules. This system catalog is supported only by clusters of version 9.1.0.100 or later.

.. table:: **Table 1** PG_BLOCKLISTS columns

   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Column                | Type                     | Description                                                                                                                                                                                                                                                                    |
   +=======================+==========================+================================================================================================================================================================================================================================================================================+
   | block_name            | Name                     | Name of a query filtering rule                                                                                                                                                                                                                                                 |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | role                  | OID                      | User OID bound to the query filtering rule                                                                                                                                                                                                                                     |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | client_addr           | inet                     | IP address of the client bound to the query filtering rule                                                                                                                                                                                                                     |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | application_name      | Name                     | Name of the client bound to the query filtering rule                                                                                                                                                                                                                           |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | unique_sql_id         | INT8                     | **unique_sql_id** that matches the query filtering rule                                                                                                                                                                                                                        |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sql_hash              | Name                     | **sql_hash** that matches the query filtering rule                                                                                                                                                                                                                             |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | block_type            | INT4                     | Type of the statement bound to the query filtering rule. The type can be SELECT, UPDATE, INSERT, DELETE, or MERGE.                                                                                                                                                             |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | partition_num         | INT4                     | Estimated maximum number of partitions to be scanned                                                                                                                                                                                                                           |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | table_num             | INT4                     | Estimated maximum number of tables to be scanned                                                                                                                                                                                                                               |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | estimate_row          | INT4                     | Estimated maximum number of rows to be scanned                                                                                                                                                                                                                                 |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | query_band            | Text                     | Type of the job that is actively identified                                                                                                                                                                                                                                    |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sql                   | Text                     | SQL statement that matches the query filtering rule                                                                                                                                                                                                                            |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_time          | Timestamp with time zone | Timestamp when a query filtering rule is created or modified                                                                                                                                                                                                                   |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | resource_pool         | Name                     | Name of the resource pool to which the statement intercepted by the query filtering rule is switched. This column is available only in clusters of version 9.1.0.200 or later.                                                                                                 |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | max_active_num        | Integer                  | Maximum number of concurrent statements intercepted by the query filtering rule. If the value is lower than the specified limit, execution proceeds normally. However, if the value is equal to or exceeds the limit, an error is reported and the statements are intercepted. |
   |                       |                          |                                                                                                                                                                                                                                                                                |
   |                       |                          | This column is available only in clusters of version 9.1.0.200 or later.                                                                                                                                                                                                       |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | is_warning            | Boolean                  | Whether an error or alarm is reported when a statement is intercepted by the query filtering rule.                                                                                                                                                                             |
   |                       |                          |                                                                                                                                                                                                                                                                                |
   |                       |                          | -  **false** indicates that an error is reported when a statement is intercepted. The default value is **false**.                                                                                                                                                              |
   |                       |                          | -  **true** indicates that an alarm is generated when a statement is intercepted.                                                                                                                                                                                              |
   |                       |                          |                                                                                                                                                                                                                                                                                |
   |                       |                          | This column is available only in clusters of version 9.1.0.200 or later.                                                                                                                                                                                                       |
   +-----------------------+--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
