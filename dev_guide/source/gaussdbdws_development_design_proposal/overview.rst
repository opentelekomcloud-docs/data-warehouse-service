:original_name: dws_04_0075.html

.. _dws_04_0075:

Overview
========

Objective
---------

This document outlines the rules for design and development that need to be followed when developing the GaussDB(DWS) database. The objective is to enhance development efficiency and ensure the continuity and stability of the service.

Application Scope
-----------------

These specifications apply to all GaussDB(DWS) self-development scenarios, including designing and developing applications and database services.

Terms
-----

**Rule**: a mandatory requirement that must be followed during database design and development.

**Suggestion**: an option that you need to consider for the design and development process.

**Description**: a detailed explanation of a rule or suggestion.

Overall Development and Design Specifications
---------------------------------------------

The table below provides a list of development and design specifications that must be followed during GaussDB(DWS) development. You can click the links to access the corresponding rules for more details.

.. table:: **Table 1** GaussDB(DWS) development and design specifications

   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | No. | Category                                          |                                                                                    | Rule/Suggestion                                                                                                                                                                                                             |
   +=====+===================================================+====================================================================================+=============================================================================================================================================================================================================================+
   | 1   | Connection management regulations                 | ``-``                                                                              | :ref:`Rule 1.1: Configuring Load Balancing for GaussDB(DWS) Clusters <en-us_topic_0000002100586254__en-us_topic_0000002134166293_section1066113812212>`                                                                     |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 2   |                                                   |                                                                                    | :ref:`Rule 1.2: Ending the Database Connection After Necessary Operations (Except in Connection Pool Scenarios) <en-us_topic_0000002100586254__en-us_topic_0000002134166293_section13247184232218>`                         |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 3   |                                                   |                                                                                    | :ref:`Rule 1.3: Ensuring a Started Transaction Is Committed or Rolled Back <en-us_topic_0000002100586254__en-us_topic_0000002134166293_section1568113152617>`                                                               |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 4   |                                                   |                                                                                    | :ref:`Rule 1.4: Ensuring the Idle Timeout Duration Is Shorter Than SESSION_TIMEOUT Value When Connection Pool Is Used for Applications <en-us_topic_0000002100586254__en-us_topic_0000002134166293_section201871334162616>` |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 5   |                                                   |                                                                                    | :ref:`Rule 1.5: Restoring Parameters to Default Values in Connections Before Returning Them to the Pool <en-us_topic_0000002100586254__en-us_topic_0000002134166293_section161471750112613>`                                |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 6   |                                                   |                                                                                    | :ref:`Rule 1.6: Manually Clearing Temporary Tables Created with a Connection Before Returning it to the Pool <en-us_topic_0000002100586254__en-us_topic_0000002134166293_section8501127112718>`                             |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 7   | Object design specifications                      | DATABASE object design                                                             | :ref:`Rule 2.1: Avoiding Direct Usage of Built-in Databases Such As postgres and gaussdb <en-us_topic_0000002100746046__en-us_topic_0000002135726589_section9462145153713>`                                                 |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 8   |                                                   |                                                                                    | :ref:`Rule 2.2: Selecting the Suitable Database Code During Database Creation <en-us_topic_0000002100746046__en-us_topic_0000002135726589_section812010258370>`                                                             |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 9   |                                                   |                                                                                    | :ref:`Rule 2.3: Choosing the Right Database Type for Compatibility with the Database to Be Created <en-us_topic_0000002100746046__en-us_topic_0000002135726589_section12587184219378>`                                      |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 10  |                                                   |                                                                                    | :ref:`Suggestion 2.4: Creating the Objects with Associated Calculations in the Same Database <en-us_topic_0000002100746046__en-us_topic_0000002135726589_section7642125613377>`                                             |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 11  |                                                   | USER object design                                                                 | :ref:`Rule 2.5: Following the Least Privilege Principle and Avoiding Running Services Using Users with Special Permissions <en-us_topic_0000002136265437__en-us_topic_0000002100207550_section348916349406>`                |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 12  |                                                   |                                                                                    | :ref:`Rule 2.6: Avoiding the Use of a Single Database Account for All Services <en-us_topic_0000002136265437__en-us_topic_0000002100207550_section20111104754013>`                                                          |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 13  |                                                   | SCHEMA object design                                                               | :ref:`Suggestion 2.7: Avoiding the Creation of Objects Under Other Users' Private Schemas <en-us_topic_0000002100586262__en-us_topic_0000002135806925_section82725914114>`                                                  |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 14  |                                                   | TABLESPACE object design                                                           | :ref:`Rule 2.8 Avoiding Tablespace Customization <en-us_topic_0000002136185105__en-us_topic_0000002100047734_section17496104317416>`                                                                                        |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 15  |                                                   | TABLE object design (prioritized)                                                  | :ref:`Rule 2.9: Selecting the Optimal Distribution Method and Columns During Table Creation <en-us_topic_0000002100746050__en-us_topic_0000002135726597_section015412016423>`                                               |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 16  |                                                   |                                                                                    | :ref:`Rule 2.10 Selecting an Optimal Storage Type During Table Creation <en-us_topic_0000002100746050__en-us_topic_0000002135726597_section16391112254212>`                                                                 |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 17  |                                                   |                                                                                    | :ref:`Rule 2.11 Selecting an Optimal Partitioning Policy During Table Creation <en-us_topic_0000002100746050__en-us_topic_0000002135726597_section392619458421>`                                                            |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 18  |                                                   |                                                                                    | :ref:`Suggestion 2.12: Designing Table Columns for Fast and Accurate Queries <en-us_topic_0000002100746050__en-us_topic_0000002135726597_section140547134319>`                                                              |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 19  |                                                   |                                                                                    | :ref:`Suggestion 2.13: Avoiding the Usage of Auto-increment Columns or Data Types <en-us_topic_0000002100746050__en-us_topic_0000002135726597_section20860162415439>`                                                       |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 20  |                                                   | INDEX object design (prioritized)                                                  | :ref:`Rule 2.14: Creating Necessary Indexes and Selecting Optimal Columns and Sequences for Them <en-us_topic_0000002136265441__en-us_topic_0000002100207558_section13748110124413>`                                        |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 21  |                                                   |                                                                                    | :ref:`Suggestion 2.15: Optimizing Performance by Choosing the Right Index Type and Avoiding Indexes for Column-Store Tables <en-us_topic_0000002136265441__en-us_topic_0000002100207558_section114813162441>`               |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 22  |                                                   | VIEW object design                                                                 | :ref:`Suggestion 2.16: Limiting View Nesting to Three Layers <en-us_topic_0000002100586266__en-us_topic_0000002135806933_section0606333194410>`                                                                             |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 23  | SQL development specifications                    | DDL operation specifications                                                       | :ref:`Suggestion 3.1: Avoiding Performing DDL Operations (Except CREATE) During Peak Hours or in Long Transactions <en-us_topic_0000002100746054__en-us_topic_0000002100047742_section238722717463>`                        |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 24  |                                                   |                                                                                    | :ref:`Rule 3.2: Specifying the Scope of Objects to Be Deleted When Using DROP <en-us_topic_0000002100746054__en-us_topic_0000002100047742_section13238718155015>`                                                           |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 25  |                                                   | INSERT operation specifications                                                    | :ref:`Rule 3.3: Replacing INSERT with COPY for Efficient Multi-Value Batch Insertion <en-us_topic_0000002136265445__en-us_topic_0000002135726605_section1588193713503>`                                                     |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 26  |                                                   |                                                                                    | :ref:`Suggestion 3.4: Avoiding Performing Real-time INSERT Operations on Common Column-store Tables <en-us_topic_0000002136265445__en-us_topic_0000002135726605_section2595105519505>`                                      |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 27  |                                                   | UPDATE/DELETE operation specifications                                             | :ref:`Suggestion 3.5: Preventing Simultaneous Updates or Deletions of the Same Row in a Row-store Table <en-us_topic_0000002100586270__en-us_topic_0000002100207566_section63531734104519>`                                 |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 28  |                                                   |                                                                                    | :ref:`Suggestion 3.6: Avoiding Frequent or Simultaneous UPDATE and DELETE Operations on Column-store Tables <en-us_topic_0000002100586270__en-us_topic_0000002100207566_section6619155554517>`                              |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 29  |                                                   | Specifications for the SELECT operation (including the query part in all syntaxes) | :ref:`Rule 3.7: Avoiding Executing SQL Statements That Do Not Support Pushdown <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section1749794416463>`                                                           |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 30  |                                                   |                                                                                    | :ref:`Rule 3.8: Specifying Association Conditions when Multiple Tables Are Associated <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section17685947134614>`                                                   |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 31  |                                                   |                                                                                    | :ref:`Rule 3.9: Ensuring Consistency of Data Types in Associated Fields across Multiple Tables <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section1777795264615>`                                           |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 32  |                                                   |                                                                                    | :ref:`Suggestion 3.10: Avoiding Function Calculation on Association and Filter Condition Fields <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section18864134354719>`                                         |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 33  |                                                   |                                                                                    | :ref:`Suggestion 3.11: Performing Pressure Tests and Concurrency Control for Resource-intensive SQL Statements <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section152761264813>`                            |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 34  |                                                   |                                                                                    | :ref:`Rule 3.12: Avoiding Excessive COUNT Operations on Large Row-store Tables <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section113151534184817>`                                                         |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 35  |                                                   |                                                                                    | :ref:`Suggestion 3.13: Avoid Getting Large Result Sets (Except for Data Exports) <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section16145155217486>`                                                        |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 36  |                                                   |                                                                                    | :ref:`Suggestion 3.14: Avoiding the Usage of SELECT * for Queries <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section18347121492>`                                                                          |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 37  |                                                   |                                                                                    | :ref:`Suggestion 3.15: Using WITH RECURSIVE with Defined Termination Condition for Recursion <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section186162944912>`                                              |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 38  |                                                   |                                                                                    | :ref:`Suggestion 3.16: Setting Schema Prefix for Table and Function Access <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section19367195264917>`                                                              |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 39  |                                                   |                                                                                    | :ref:`Suggestion 3.17: Identifying an SQL Statement with a Unique SQL Comment <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section72646917506>`                                                              |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 40  |                                                   |                                                                                    | :ref:`Recommendation 3.18: Restricting SQL Statements to 64 KB in Length <en-us_topic_0000002136185113__en-us_topic_0000002135806941_section10314162412165>`                                                                |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 41  | Foreign table function development specifications | GDS foreign table                                                                  | :ref:`Rule 4.1 Deploying GDS on an Independent Server Outside the GaussDB(DWS) Cluster <en-us_topic_0000002125650482__en-us_topic_0000002160959045_section7984144034412>`                                                   |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 42  |                                                   | Foreign table for collaborative analysis                                           | :ref:`Rule 4.2 Avoiding Concurrent Access to Multiple Collaborative Analysis Foreign Tables Across Clusters <en-us_topic_0000002125650482__en-us_topic_0000002160959045_section171861828194514>`                            |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 43  | Stored procedure development specifications       | ``-``                                                                              | :ref:`Suggestion 5.1: Simplifying Stored Procedures and Avoiding Nesting <en-us_topic_0000002100746058__en-us_topic_0000002098487000_section15429113495012>`                                                                |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 44  |                                                   |                                                                                    | :ref:`Rule 5.2: Avoiding Non-CREATE DDL Operations in Stored Procedures <en-us_topic_0000002100746058__en-us_topic_0000002098487000_section188550284514>`                                                                   |
   +-----+---------------------------------------------------+------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
