:original_name: dws_02_0022.html

.. _dws_02_0022:

Querying the Supported Node Types
=================================

Function
--------

This API is used to query the node types supported by GaussDB(DWS).

URI
---

-  URI format

   .. code-block:: text

      GET /v2/{project_id}/node-types

   .. table:: **Table 1** URI parameters

      +------------+-----------+--------+------------------------------------------------------------------------------------------------------+
      | Parameter  | Mandatory | Type   | Description                                                                                          |
      +============+===========+========+======================================================================================================+
      | project_id | Yes       | String | Project ID. For details about how to obtain the ID, see :ref:`Obtaining a Project ID <dws_02_0011>`. |
      +------------+-----------+--------+------------------------------------------------------------------------------------------------------+

Request Message
---------------

-  Request example

   .. code-block:: text

      GET https://{Endpoint}/v2/89cd04f168b84af6be287f71730fdb4b/node-types

Response Message
----------------

-  Example response

   .. code-block::

      {
        "node_types" : [ {
          "spec_name" : "dws.d2.xlarge",
          "id" : "ebe532d6-665f-40e6-a4d4-3c51545b6a67",
          "datastore_type" : "dws",
          "available_zones" : [ {
            "code" : "az1",
            "status" : "normal"
          } ],
          "ram" : 32,
          "vcpus" : 4,
          "datastores" : [ {
            "version" : "8.1.3.200",
            "attachments" : {
              "min_cn" : 2,
              "max_cn" : 20
            }
          } ],
          "volume" : {
            "type" : "SSD",
            "size" : 160
          },
          "elastic_volume_specs" : [ {
            "type" : "SSD",
            "step" : 100,
            "min_size" : 100,
            "max_size" : 32000
          } ],
          "detail" : [ {
            "type" : "vCPU",
            "value" : "4"
          }, {
            "value" : "1675",
            "type" : "LOCAL_DISK",
            "unit" : "GB"
          }, {
            "type" : "mem",
            "value" : "32",
            "unit" : "GB"
          } ]
        } ],
        "count" : 1
      }

-  Parameter description

   .. table:: **Table 2** Response parameter description

      +------------+--------------------------------------------------------------------------------------------------------------------+-----------------------------+
      | Parameter  | Type                                                                                                               | Description                 |
      +============+====================================================================================================================+=============================+
      | node_types | Array of :ref:`NodeTypes <en-us_topic_0000001231472761__en-us_topic_0000001098976622_response_node_types>` objects | List of node type objects   |
      +------------+--------------------------------------------------------------------------------------------------------------------+-----------------------------+
      | count      | Integer                                                                                                            | Total number of node types. |
      +------------+--------------------------------------------------------------------------------------------------------------------+-----------------------------+

   .. _en-us_topic_0000001231472761__en-us_topic_0000001098976622_response_node_types:

   .. table:: **Table 3** NodeTypes

      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter             | Type                                                                                                                   | Description                                                                                                                                                                                                           |
      +=======================+========================================================================================================================+=======================================================================================================================================================================================================================+
      | spec_name             | String                                                                                                                 | Name of a node type                                                                                                                                                                                                   |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | detail                | Array of :ref:`Detail <en-us_topic_0000001231472761__en-us_topic_0000001098976622_response_detail>` objects            | Node type details                                                                                                                                                                                                     |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | id                    | String                                                                                                                 | Node type ID                                                                                                                                                                                                          |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | datastore_type        | String                                                                                                                 | Product type                                                                                                                                                                                                          |
      |                       |                                                                                                                        |                                                                                                                                                                                                                       |
      |                       |                                                                                                                        | -  dws: standard data warehouse.                                                                                                                                                                                      |
      |                       |                                                                                                                        |                                                                                                                                                                                                                       |
      |                       |                                                                                                                        | -  hybrid: hybrid data warehouse.                                                                                                                                                                                     |
      |                       |                                                                                                                        |                                                                                                                                                                                                                       |
      |                       |                                                                                                                        | -  stream: stream data warehouse.                                                                                                                                                                                     |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | available_zones       | Array of :ref:`NodeTypeAvailableZones <en-us_topic_0000001231472761__response_nodetypeavailablezones>` objects         | Supported AZs and their statuses                                                                                                                                                                                      |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | ram                   | Integer                                                                                                                | Memory size                                                                                                                                                                                                           |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | vcpus                 | Integer                                                                                                                | Number of CPUs                                                                                                                                                                                                        |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | datastores            | Array of :ref:`NodeTypeDatastores <en-us_topic_0000001231472761__response_nodetypedatastores>` objects                 | Kernel version information                                                                                                                                                                                            |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | volume                | :ref:`VolumeResp <en-us_topic_0000001231472761__response_volume>` object                                               | For a fixed storage flavor, the value is the storage of its typical configuration. For an elastic storage flavor, the value **null**.                                                                                 |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | elastic_volume_specs  | Array of :ref:`NodeTypeElasticVolumeSpecs <en-us_topic_0000001231472761__response_nodetypeelasticvolumespecs>` objects | If the specification is elastic, this attribute indicates the typical specification, including the storage type, minimum capacity, maximum capacity, and step. If the specification is fixed, this attribute is null. |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. _en-us_topic_0000001231472761__en-us_topic_0000001098976622_response_detail:

   .. table:: **Table 4** Detail

      ========= ====== ===============
      Parameter Type   Description
      ========= ====== ===============
      type      String Attribute type
      value     String Attribute value
      unit      String Attribute unit
      ========= ====== ===============

   .. _en-us_topic_0000001231472761__response_nodetypeavailablezones:

   .. table:: **Table 5** NodeTypeAvailableZones

      +-----------------------+-----------------------+-----------------------------------------------+
      | Parameter             | Type                  | Description                                   |
      +=======================+=======================+===============================================+
      | code                  | String                | AZ ID                                         |
      +-----------------------+-----------------------+-----------------------------------------------+
      | status                | String                | Availability status of a node type.           |
      |                       |                       |                                               |
      |                       |                       | -  **normal**: The node type is available.    |
      |                       |                       |                                               |
      |                       |                       | -  **sellout**: The VM has been sold out.     |
      |                       |                       |                                               |
      |                       |                       | -  **abandon**: The node type is unavailable. |
      +-----------------------+-----------------------+-----------------------------------------------+

   .. _en-us_topic_0000001231472761__response_nodetypedatastores:

   .. table:: **Table 6** NodeTypeDatastores

      +-------------+--------------------------------------------------------------------------------+-------------------------------------------------+
      | Parameter   | Type                                                                           | Description                                     |
      +=============+================================================================================+=================================================+
      | version     | String                                                                         | OS kernel version                               |
      +-------------+--------------------------------------------------------------------------------+-------------------------------------------------+
      | attachments | :ref:`Attachments <en-us_topic_0000001231472761__response_attachments>` object | Additional information about the kernel version |
      +-------------+--------------------------------------------------------------------------------+-------------------------------------------------+

   .. _en-us_topic_0000001231472761__response_attachments:

   .. table:: **Table 7** attachments

      ========= ====== =========================================
      Parameter Type   Description
      ========= ====== =========================================
      min_cn    String Minimum CNs allowed by the kernel version
      max_cn    String Maximum CNs allowed by the kernel version
      ========= ====== =========================================

   .. _en-us_topic_0000001231472761__response_volume:

   .. table:: **Table 8** VolumeResp

      ========= ======= =================================
      Parameter Type    Description
      ========= ======= =================================
      type      String  Disk type. Only SSD is supported.
      size      Integer Available disk capacity (GB)
      ========= ======= =================================

   .. _en-us_topic_0000001231472761__response_nodetypeelasticvolumespecs:

   .. table:: **Table 9** NodeTypeElasticVolumeSpecs

      ========= ======= =========================
      Parameter Type    Description
      ========= ======= =========================
      type      String  Cloud disk type.
      step      String  Cloud disk size increment
      min_size  Integer Minimum cloud disk size
      max_size  Integer Maximum cloud disk size
      ========= ======= =========================

Status Code
-----------

-  Normal

   200

-  Exception

   .. table:: **Table 10** Returned values

      ========================= ===========================
      Returned Value            Description
      ========================= ===========================
      400 Bad Request           Request error.
      401 Unauthorized          Authorization failed.
      403 Forbidden             No operation permission.
      404 Not Found             No resources found.
      500 Internal Server Error Internal service error.
      503 Service Unavailable   The service is unavailable.
      ========================= ===========================
