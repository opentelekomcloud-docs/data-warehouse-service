:original_name: dws_mt_0303.html

.. _dws_mt_0303:

VARRAY
======

REF CURSOR is defined as a return parameter.

It can be migrated after **plsqlCollection** is set to **varray**.

**Input - VARRAY**

::

   CREATE
   OR REPLACE TYPE TYPE_RMTS_ARRAYTYPE IS TABLE
   OF VARCHAR2 (30000);

   CREATE OR REPLACE PACKAGE BODY SCMS_STRING_UTILS
   As
   FUNCTION END_WITH (SRCSTRING VARCHAR2, --Source character string

   ENDCHAR VARCHAR2, --End character string

   IGNORECASE BOOLEAN --Ignore Case

   )
   RETURN BOOLEAN IS SRCLEN NUMBER (20) := LENGTH(SRCSTRING);
   ENDLEN NUMBER (20) := LENGTH(ENDCHAR);
   V_TOKEN_ARRAY TYPE_RMTS_ARRAYTYPE := TYPE_RMTS_ARRAYTYPE ();
   V_TOKEN_ARRAY1 TYPE_RMTS_ARRAYTYPE := TYPE_RMTS_ARRAYTYPE ();
   I NUMBER (20) := 1;
   TMP_CHAR VARCHAR(1);
   TMP_CHAR1 VARCHAR(1);
   BEGIN
   ...
    END;
   END;
   /

**Output**

::

   CREATE
   OR REPLACE FUNCTION SCMS_STRING_UTILS.END_WITH (SRCSTRING VARCHAR2 /* source character string */
   , ENDCHAR VARCHAR2 /* End character string */
   , IGNORECASE BOOLEAN /* Ignore case */
   )
   RETURN BOOLEAN IS SRCLEN NUMBER (20) := LENGTH(SRCSTRING);
   ENDLEN NUMBER (20) := LENGTH(ENDCHAR);
   TYPE TYPE_RMTS_ARRAYTYPE IS VARRAY (1024) OF VARCHAR2 (30000);
   V_TOKEN_ARRAY TYPE_RMTS_ARRAYTYPE /*:= TYPE_RMTS_ARRAYTYPE()*/
   ;
   V_TOKEN_ARRAY1 TYPE_RMTS_ARRAYTYPE /*:= TYPE_RMTS_ARRAYTYPE()*/
   ;
   I NUMBER (20) := 1;
   TMP_CHAR VARCHAR(1);
   TMP_CHAR1 VARCHAR(1);
   BEGIN
   END;
